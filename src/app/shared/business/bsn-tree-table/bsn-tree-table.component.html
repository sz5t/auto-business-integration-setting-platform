<div class="table-operations" *ngIf="config.toolbar">
    <ng-container *ngFor="let btn of config.toolbar">
        <button nz-button (click)="toolbarAction(btn)" [attr.disabled]="btn.disabled" class="editable-add-btn">{{btn.text}}</button>
    </ng-container>
</div>
<nz-table #nzTable [nzData]="dataList"
 [nzShowSizeChanger]="true"
 [nzPageSizeOptions]="this.config.pageSizeOptions" 
 [nzShowTotal]="totalTemplate" 
 >
 <ng-template #totalTemplate let-total>
        共 {{total}} 条
 </ng-template>
    <thead>
        <tr>
            <th nzWidth="40%">Name</th>
            <ng-container *ngFor="let col of config.columns">
                    <th nzShowSort *ngIf="!col.hidden" nzShowSort nzSortKey="sortMap[col.field]">
                        <span>{{col.title}}</span>
                    </th>
            </ng-container>
        </tr>
      
    </thead>
    <tbody>
        <ng-template ngFor let-data [ngForOf]="nzTable.data">
            <ng-template ngFor let-item [ngForOf]="expandDataCache[data.key]">
                <tr *ngIf="(item.parent&&item.parent.expand)||!(item.parent)">
                    <td [nzIndentSize]="item.level*20" [nzShowExpand]="!!item.children" [(nzExpand)]="item.expand" (nzExpandChange)="collapse(expandDataCache[data.key],item,$event)">
                        {{item.name}}
                    </td>
                    <ng-container *ngFor="let col of config.columns">
                            <td *ngIf="!col.hidden">
                                    {{item[col.field]}}
                            </td>
                        </ng-container>
                </tr>
            </ng-template>
        </ng-template>
    </tbody>
</nz-table>